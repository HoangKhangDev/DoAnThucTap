{% extends "base.html" %}
{% load static %}

{% block title %}
Score Training
{% endblock %}

{% block header %}

<!-- Back to top button -->
<div class="back-to-top" style="animation-duration: 3s" onclick=" document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;"></div>

<nav class="navbar navbar-expand-lg navbar-light bg-white sticky" data-offset="500">
  <div class="container">
    <a href="{% url 'index' %}" id="logo" class="navbar-brand">
      Scoring
      <span class="text-primary">Training.</span>
    </a>

    <button class="navbar-toggler" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="navbar-collapse collapse" id="navbarContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item ">
          <a class="nav-link" href="{% url 'index' %}">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'info_score' %}">Info Score</a>
        </li>
        {% if sinhvien %}
        <li class="nav-item active">
          <a class="nav-link" href="{% url 'score_training' %}">Score Training</a>
        </li>
        {% endif %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'contact' %}">Contact</a>
        </li>

        <li class="nav-item ml-2 d-flex align-items-center" id="info-login-nav">
          <div>
            <span style="font-weight: bold;">Xin Chào <p style="
                  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                  font-weight: bold;color: #6C7AFB;
                ">
                {% if sinhvien %}
                <b>{{sinhvien.Ten_SV}}</b>
                {% elif hoidongdanhgia %}
                <b>Hội Đồng Đánh Giá</b>
                {% else %}
                <b>Cố Vấn Học Tập ({{ covanhoctap.Ten_CVHT}}</b>
                {% endif %}
              </p>
          </div>
          <div class="dropdown show">
            {% if image %}
            <img class="rounded-circle z-depth-2 dropdown-toggle" alt="100x100" src="{{ image }}"
              data-holder-rendered="true" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" />
            {% else %}
            <img class="rounded-circle z-depth-2 dropdown-toggle" alt="100x100" src="{% static 'images/Robot.png' %}"
              data-holder-rendered="true" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" />
            {% endif %}
            <div class="dropdown-menu option-image-login" aria-labelledby="dropdownMenuLink">
              <a class="dropdown-item" href="{% url 'info_score' %}">Thông Tin</a>
              <a class="dropdown-item"
                onclick="document.getElementById('form-change-password').classList.toggle('d-none')">Đổi
                Mật Khẩu</a>
              <a class="dropdown-item" href="{% url 'logout' %}">Đăng Xuất</a>
            </div>
          </div>

        </li>

    </div>
    </ul>
  </div>
  </div>
</nav>
<!-- ALERT -->

  <div class="alert alert-success container d-none" role="alert" id="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
        aria-hidden="true">&times;</span></button>
    <strong>Success!</strong> Bạn đã lưu phiếu điểm thành công!
  </div>

<!-- form change password -->
<div
  style="position: absolute;background-color: rgba(0,0,0,0.95);top: 0;right: 0;bottom: 0;left: 0;z-index: 999999;height: 100%;"
  id="form-change-password" class="d-none">
  <div
    style="position: absolute;top: 50%;left: 50%;width: 45vw;z-index: 1;transform: translate(-50%,-50%);background-color: #6C7AFB;color: white"
    class="p-5">
    <form id="form_change_password" method="post" action="{% url 'change_password' %}">
      {% csrf_token %}
      <div class="d-flex justify-content-end col-12">
        <i class="fa fa-window-close btn btn-danger text-white m-0" aria-hidden="true" style="padding:0 0.5em 0;"
          onclick="document.getElementById('form-change-password').classList.toggle('d-none')"></i>
      </div>
      <div class="form-group">
        <label for="formGroupExampleInput">Mật Khẩu Hiện Tại</label>
        <input type="password" class="form-control" id="formGroupExampleInput" placeholder="Mật Khẩu Hiện Tại">
      </div>
      <div class="form-group">
        <label for="formGroupExampleInput2">Mật Khẩu Mới</label>
        <input type="password" class="form-control" id="formGroupExampleInput2" placeholder="Mật Khẩu Mới"
          name="password">
      </div>
      <div class="form-group">
        <label for="formGroupExampleInput2">Nhập lại mật khẩu mới</label>
        <input type="password" class="form-control" id="formGroupExampleInput3" placeholder="Nhập lại mật khẩu mới">
      </div>
      <input hidden name='link' value="/score_training">
    </form>
    <input class="btn btn-warning" type="button" value="Save" onclick="submitformpassword()">
  </div>
</div>
<script>
  function submitformpassword() {
    var passnow = document.getElementById('formGroupExampleInput');
    var passnew = document.getElementById('formGroupExampleInput2');
    var passnewre = document.getElementById('formGroupExampleInput3');
    if (passnow != null & passnew != null & passnewre != null) {
      passnow = passnow.value
      passnew = passnew.value
      passnewre = passnewre.value
      if (passnow.trim().length > 0 & passnew.trim().length > 0 & passnewre.trim().length > 0 & passnow.trim() != passnew.trim() & passnewre.trim() == passnew.trim() & passnow.trim() == '{{sinhvien.Password_SV}}') {
        alert('Change Password Succes!!!');
        document.getElementById('form_change_password').submit();
      }
      else {
        alert('Please Check again input password')
      }
    }
    else {
      alert('Please Check again input password')
    }
  }
</script>
<!-- end form change password -->
{% endblock %}




{% block body %}
<div class="form-table-score px-3 container rounded" id="table-score-display">
  {% if check_is_training == True %} <h2 class="text-center text-white bg-danger">Hiện tại bạn không thể chấm điểm nữa do thời gian quá hạn hoặc kỳ này bạn đã chấm điểm rồi</h2> {% endif %}
  <table class="table table-hover table-bordered  {% if check_is_training == True %} d-none {% endif %}" id="example-table">
    <thead class="table-dark">
      <tr >
        <h3 class="text-center bg-success p-3 text-white" id="header-phieuchamdiem">Phiếu Chấm Điểm</h3>
      </tr>
      <tr>
        <th scope="col">Tiêu Chí Chấm Điểm</th>
        <th scope="col" class="score-part-01">Sinh Viên</th>
        <th scope="col" class="score-part-02">Cố Vấn Học Tập</th>
        <th scope="col" class="score-part-03">Hội Đồng Đánh Giá</th>
      </tr>
    </thead>
    <tbody>


      <div class="part-01-form-score">
        <tr class="table-primary">
          <th colspan="4">
            1. Ý thức và kết quả học tập (khung đánh giá không vượt quá 20 điểm)
          </th>
        </tr>
        <!-- 1.1 -->
        <tr class="10 0 table-primary">
          <td>
            <p>1.1. Kết quả học tập</p>
            <p>Các bạn vào trang trường mình tự cộng và chia trung bình điểm ra nhé. Bạn nào thi lại sẽ không được cộng
              điểm</p>
            <ul>
              <li>Xuất Sắc: +10</li>
              <li>Giỏi: +8</li>
              <li>Khá: +6</li>
              <li>Trung Bình Khá: +4</li>
              <li>Trung Bình: +2</li>
            </ul>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-1.1-part-1-one" placeholder="+...đ"
              value=0>
              
            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-1.1-part-2-one" placeholder="+...đ"
              value=0 maxlength="2">
            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-1.1-part-3-one" placeholder="+...đ"
              value=0 maxlength="2">
            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>
        <!-- 1.2 -->
        <tr class="4 0 table-primary">
          <td>
            <p>1.2 Xếp loại học tập tăng so với học kì trước:
            </p>
            <ul>
              <li>Tăng 1 bậc +3đ</li>
              <li>Tăng 2 bậc +4đ</li>
              <li>Không Tăng +0đ</li>
            </ul>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-1.2-part-1-one" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-1.2-part-2-one" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-1.2-part-3-one" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>
        <!-- 1.3 -->
        <tr class="5 0 table-primary">
          <td>
            <p>1.3 Không vi phạm quy chế thi (+5đ)
            </p>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-1.3-part-1-one" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-1.3-part-2-one" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-1.3-part-3-one" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>
        <!-- 1.4 -->
        <tr class="6 0 table-primary">
          <td>
            <p>1.4 Sinh viên nghỉ không phép không quá 3 buổi học hoặc đi trễ không quá 3 lần (+6đ)
            </p>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-1.4-part-1-one" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-1.4-part-2-one" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-1.4-part-3-one" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>
        <!-- 1.5.1 -->
        <tr class="6 0 table-primary">
          <td>
            <p>
              1.5.1 Tham gia các CLB học thuật *
            </p>
            <p>
              Có xác nhận và đánh giá của Câu lạc bộ
            </p>
            <ul>
              <li>Thành Viên +4đ</li>
              <li>Thành Viên Tích Cực +6đ</li>
            </ul>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-1.5.1-part-1-one" placeholder="+...đ"
              value=0 maxlength="2">
            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-1.5.1-part-2-one" placeholder="+...đ"
              value=0 maxlength="2">
            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-1.5.1-part-3-one" placeholder="+...đ"
              value=0 maxlength="2">
            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>
        <!-- 1.5.2 -->
        <tr class="5 0 table-primary">
          <td>
            <p>
              1.5.2 Tham gia nghiên cứu khoa học có bài viết (+5đ)
            </p>
            <p>
              Có minh chứng kèm theo
            </p>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-1.5.2-part-1-one" placeholder="+...đ"
              value=0 maxlength="2">
            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-1.5.2-part-2-one" placeholder="+...đ"
              value=0 maxlength="2">
            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-1.5.2-part-3-one" placeholder="+...đ"
              value=0 maxlength="2">
            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>
        <!-- 1.6 -->
        <tr class="0 -100 table-primary">
          <td>
            <p>1.6 Có thái độ học tập chưa tốt (Giảng viên mời ra khỏi lớp, ……..). Mỗi lần vi phạm (-5đ/lần)
            </p>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-1.6-part-1-one" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-1.6-part-2-one" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-1.6-part-3-one" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>
        <!-- tổng điểm phần 1 -->
        <tr class="20 0 table-primary">
          <td>
            <p>
              Tổng điểm phần 1: (khung đánh giá không vượt quá 20 điểm)
            </p>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-1-sum-part-1-one" placeholder="+...đ"
              value=0 maxlength="2" readonly>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-1-sum-part-2-one" placeholder="+...đ"
              value=0 maxlength="2" readonly>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-1-sum-part-3-one" placeholder="+...đ"
              value=0 maxlength="2" readonly>
          </td>
        </tr>
      </div>



      <div class="part-02-form-score">
        <tr class="table-danger text-muted">
          <th colspan="4">
            2. Ý thức và kết quả chấp hành nội quy, quy chế trong nhà trường (khung đánh giá không vượt quá 25 điểm)

          </th>
        </tr>
        <!-- 2.1 -->
        <tr class="10 0 table-danger text-muted">
          <td>
            <p>
              2.1 Ý thức chấp hành các văn bản của ngành, cơ quan chỉ đạo cấp trên (Đăng ký nội trú, ngoại trú, khám sức
              khỏe, Phiếu QLHSSV, hồ sơ nhập học, đóng học phí đúng hạn định, tham gia BHYT)
            </p>
            <p>
              Có tham gia đầy đủ (+10đ)
            </p>
            <p>Sai phạm một nội dung không được cộng điểm
            </p>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-2.1-part-1-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-2.1-part-2-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-2.1-part-3-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>
        <!-- 2.2 -->
        <tr class="5 0 table-danger text-muted">
          <td>
            <p>
              2.2 Tham gia các buổi sinh hoạt của Lớp
            </p>
            <p>
              Mỗi lần được +0.25đ/lần sinh hoạt. Mỗi học kỳ cộng không quá 5đ. Nhập số điểm ở phía bên phải
            </p>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-2.2-part-1-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-2.2-part-2-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-2.2-part-3-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>
        <!-- 2.3 -->
        <tr class="3 0 table-danger text-muted">
          <td>
            <p>
              2.3 Tham gia SH đầu năm, cuối khoá (+3đ)
            </p>
            <p>
              Có minh chứng kèm theo
            </p>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-2.3-part-1-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-2.3-part-2-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-2.3-part-3-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>
        <!-- 2.4 -->
        <tr class="5 0 table-danger text-muted">
          <td>
            <p>
              2.4 Đánh giá giảng dạy của giảng viên + (0 - 5đ)
            </p>
            <p>
              (Có tham gia từ: 20-30%: +1đ; 31-50%: +2đ; 51-70%:+3đ; 71-90%: +4đ; 91-100%: + 5đ)
            </p>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-2.4-part-1-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-2.4-part-2-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-2.4-part-3-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>
        <!-- 2.5 -->
        <tr class="5 0 table-danger text-muted">
          <td>
            <p>
              2.5 Lên thư viện nghiên cứu và học tập (+0.5 đ/lần)
            </p>
            <p>
              (Mỗi học kỳ cộng không quá 5đ)
            </p>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-2.5-part-1-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-2.5-part-2-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-2.5-part-3-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>
        <!-- 2.6 -->
        <tr class="0 -8 table-danger text-muted">
          <td>
            <p>
              2.6 Vi phạm ý thức chấp hành các nội quy, quy chế của trường. Vi phạm bị lập biên bản:
            </p>
            <ul>
              <li>1 lần (-2đ)</li>
              <li>2 lần (-4đ)</li>
              <li>3 lần (-8đ)</li>
            </ul>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-2.6-part-1-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-2.6-part-2-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-2.6-part-3-two" placeholder="+...đ"
              value=0 maxlength="2">

            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>
        <!-- tổng điểm phần 2 -->
        <tr class="25 0 table-danger text-muted">
          <td>
            <p>
              Tổng điểm phần 2 (Không được vượt quá 25đ)
            </p>
          </td>
          <td>
            <input type="number" class="form-control score-part-01" name="score-2-sum-part-1-two" placeholder="+...đ"
              value=0 maxlength="2" readonly>
            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-02" name="score-2-sum-part-2-two" placeholder="+...đ"
              value=0 maxlength="2" readonly>
            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
          <td>
            <input type="number" class="form-control score-part-03" name="score-2-sum-part-3-two" placeholder="+...đ"
              value=0 maxlength="2" readonly>
            <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
          </td>
        </tr>




        <div class="part-03-form-score">
          <tr class="table-success text-dark">
            <th colspan="4">
              3. Ý thức và kết quả tham gia các hoạt động chính trị, xã hội, văn hóa, văn nghệ, thể thao, phòng chống
              tội phạm và các tệ nạn xã hội 3. Ý thức và kết quả tham gia các hoạt động chính trị, xã hội, văn hóa, văn
              nghệ, thể thao, phòng chống tội phạm và các tệ nạn xã hội (khung đánh giá không vượt quá 20 điểm)
            </th>
          </tr>
          <!-- 3.1 -->
          <tr class="6 0 table-success text-dark">
            <td>
              <p>
                3.1 Là thành viên CLB (ngoại trừ CLB học thuật)
              </p>
              <p>
                (Có xác nhận và đánh giá của Câu lạc bộ)
              </p>
              <ul>
                <li>Thành Viên (+4đ)</li>
                <li>Thành Viên Tích Cực (+6đ)</li>
              </ul>
            </td>
            <td>
              <input type="number" class="form-control score-part-01" name="score-3.1-part-1-three" placeholder="+...đ"
                value=0 maxlength="2">

              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
            <td>
              <input type="number" class="form-control score-part-02" name="score-3.1-part-2-three" placeholder="+...đ"
                value=0 maxlength="2">

              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
            <td>
              <input type="number" class="form-control score-part-03" name="score-3.1-part-3-three" placeholder="+...đ"
                value=0 maxlength="2">

              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
          </tr>
          <!-- 3.2 -->
          <tr class="20 0 table-success text-dark">
            <td>
              <p>
                3.2 Tham gia các hoạt động rèn luyện, chính trị, tư tưởng:
              </p>
              <ul>
                <li>
                  Tham gia học tập, tìm hiểu tư tưởng đạo đức, phong cách Hồ Chí Minh (+5đ)
                </li>
                <li>
                  Tham gia viết bài các hội thi (+5đ)
                </li>
                <li>
                  Tham dự chuyên đề do nhà Trường tổ chức (+5đ)
                </li>
              </ul>
            </td>
            <td>
              <input type="number" class="form-control score-part-01" name="score-3.2-part-1-three" placeholder="+...đ"
                value=0 maxlength="2">
              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
            <td>
              <input type="number" class="form-control score-part-02" name="score-3.2-part-2-three" placeholder="+...đ"
                value=0 maxlength="2">
              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
            <td>
              <input type="number" class="form-control score-part-03" name="score-3.2-part-3-three" placeholder="+...đ"
                value=0 maxlength="2">
              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
          </tr>
          <!-- 3.3.1 -->
          <tr class="20 0 table-success text-dark">
            <td>
              <p>
                3.3.1 Có tham dự meeting các ngày lễ, ngày hội do nhà trường, Đoàn, Hội cử đi (+3đ/lần) (Nếu số điểm lớn
                hơn 20 thì ghi 20)
              </p>
              <p>
                (Nhập điểm đã được quy đổi từ số lần tham gia nhé. Phải có minh chứng kèm theo)
              </p>
            </td>
            <td>
              <input type="number" class="form-control score-part-01" name="score-3.3.1-part-1-three"
                placeholder="+...đ" value=0 maxlength="2">
              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
            <td>
              <input type="number" class="form-control score-part-02" name="score-3.3.1-part-2-three"
                placeholder="+...đ" value=0 maxlength="2">
              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
            <td>
              <input type="number" class="form-control score-part-03" name="score-3.3.1-part-3-three"
                placeholder="+...đ" value=0 maxlength="2">
              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
          </tr>
          <!-- 3.3.2 -->
          <tr class="20 0 table-success text-dark">
            <td>
              <p>
                3.3.2 Tham gia các cuộc thi, văn hoá, văn nghệ, thể thao do trường tổ chức: (Nếu số điểm lớn hơn 20 thì
                ghi 20)
              </p>
              <ul>
                <li>
                  Tham gia cổ vũ, hỗ trợ (+1đ/lần).
                </li>
                <li>
                  Thành viên trong Ban tổ chức (+3đ/lần tổ chức). Tham gia dự thi (+3đ/lần).
                </li>
                <li>
                  Tham gia đạt giải (Khuyến khích:+2đ, Ba:+3đ, Nhì:+4đ, Nhất:+5đ).
                </li>
              </ul>
              <p>
                Nhập số điểm ở phía bên phải:
              </p>
            </td>
            <td>
              <input type="number" class="form-control score-part-01" name="score-3.3.2-part-1-three"
                placeholder="+...đ" value=0 maxlength="2">
              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
            <td>
              <input type="number" class="form-control score-part-02" name="score-3.3.2-part-2-three"
                placeholder="+...đ" value=0 maxlength="2">
              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
            <td>
              <input type="number" class="form-control score-part-03" name="score-3.3.2-part-3-three"
                placeholder="+...đ" value=0 maxlength="2">
              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
          </tr>
          <!-- 3.4 -->
          <tr class="4 0 table-success text-dark">
            <td>
              <p>
                3.4 Tham gia tuyên truyền, phòng chống tội phạm và tệ nạn xã hội trong và ngoài trường (+4đ)
              </p>
            </td>
            <td>
              <input type="number" class="form-control score-part-01" name="score-3.4-part-1-three" placeholder="+...đ"
                value=0 maxlength="2">

              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
            <td>
              <input type="number" class="form-control score-part-02" name="score-3.4-part-2-three" placeholder="+...đ"
                value=0 maxlength="2">

              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
            <td>
              <input type="number" class="form-control score-part-03" name="score-3.4-part-3-three" placeholder="+...đ"
                value=0 maxlength="2">

              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
          </tr>
          <!-- tổng điểm phần 3 -->
          <tr class="20 0 table-success text-dark">
            <td>
              <p>
                Tổng điểm phần 3 (Không được vượt quá 20đ)
              </p>
            </td>
            <td>
              <input type="number" class="form-control score-part-01" name="score-3-sum-part-1-three"
                placeholder="+...đ" value=0 maxlength="2" readonly>
              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
            <td>
              <input type="number" class="form-control score-part-02" name="score-3-sum-part-2-three"
                placeholder="+...đ" value=0 maxlength="2" readonly>
              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
            <td>
              <input type="number" class="form-control score-part-03" name="score-3-sum-part-3-three"
                placeholder="+...đ" value=0 maxlength="2" readonly>
              <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
            </td>
          </tr>






          <div class="part-04-form-score">
            <tr class="table-secondary text-primary">
              <th colspan="4">
                4. Phẩm chất công dân và quan hệ cộng đồng (khung đánh giá không vượt quá 25 điểm)
              </th>
            </tr>
            <!-- 4.1 -->
            <tr class="20 0 table-secondary text-primary">
              <td>
                <p>
                  4.1 Trực tiếp tham gia các hoạt động tình nguyện:
                </p>
                <ul>
                  <li>
                    Tham gia chiến dịch mùa hè xanh (+10đ) (Có minh chứng kèm theo)
                  </li>
                  <li>
                    Tham gia hiến máu nhân đạo (+10đ) (Có minh chứng kèm theo)
                  </li>
                </ul>
              </td>
              <td>
                <input type="number" class="form-control score-part-01" name="score-4.1-part-1-four" placeholder="+...đ"
                  value=0 maxlength="2">

                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-02" name="score-4.1-part-2-four" placeholder="+...đ"
                  value=0 maxlength="2">

                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-03" name="score-4.1-part-3-four" placeholder="+...đ"
                  value=0 maxlength="2">

                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
            </tr>
            <!-- 4.2 -->
            <tr class="table-secondary text-primary">
              <td colspan="4">
                4.2 Tham gia công ích, công tác xã hội cấp Lớp, cấp trường:
              </td>
            </tr>
            <!-- 4.2.1 -->
            <tr class="25 0 table-secondary text-primary">
              <td>
                <p>
                  4.2.1 Tham gia vệ sinh công ích (+3đ/lần) (Nếu số điểm vượt quá 25 thì ghi 25)
                </p>
              </td>
              <td>
                <input type="number" class="form-control score-part-01" name="score-4.2.1-part-1-four"
                  placeholder="+...đ" value=0 maxlength="2">
                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-02" name="score-4.2.1-part-2-four"
                  placeholder="+...đ" value=0 maxlength="2">
                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-03" name="score-4.2.1-part-3-four"
                  placeholder="+...đ" value=0 maxlength="2">
                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
            </tr>
            <!-- 4.2.2 -->
            <tr class="25 0 table-secondary text-primary">
              <td>
                <p>
                  4.2.2 Tham gia các hoạt động xã hội (Tổ chức trung thu, thăm trẻ mồ côi và người già neo đơn, quyên
                  góp giúp đỡ những hoàn cảnh khó khăn…..) (+3đ/lần) (Số điểm vượt quá 25 thì ghi 25)
                </p>
                <p>
                  Viết số điểm đã được quy đổi từ số lần phía bên phải
                </p>
              </td>
              <td>
                <input type="number" class="form-control score-part-01" name="score-4.2.2-part-1-four"
                  placeholder="+...đ" value=0 maxlength="2">
                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-02" name="score-4.2.2-part-2-four"
                  placeholder="+...đ" value=0 maxlength="2">
                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-03" name="score-4.2.2-part-3-four"
                  placeholder="+...đ" value=0 maxlength="2">
                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
            </tr>
            <!-- 4.2.3 -->
            <tr class="25 0 table-secondary text-primary">
              <td>
                <p>
                  4.2.3 Tham gia các phong trào do Bộ, Ngành, Địa phương, Trường phát động (5đ/lần) (Số điểm vượt quá 25
                  thì ghi 25)
                </p>
              </td>
              <td>
                <input type="number" class="form-control score-part-01" name="score-4.2.3-part-1-four"
                  placeholder="+...đ" value=0 maxlength="2">
                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-02" name="score-4.2.3-part-2-four"
                  placeholder="+...đ" value=0 maxlength="2">
                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-03" name="score-4.2.3-part-3-four"
                  placeholder="+...đ" value=0 maxlength="2">
                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
            </tr>
            <!-- 4.3 -->
            <tr class="5 0 table-secondary text-primary">
              <td>
                <p>
                  4.3 Không vi phạm quyền và nghĩa vụ của sinh viên theo quy định của Bộ GD&ĐT +(5đ)
                </p>
              </td>
              <td>
                <input type="number" class="form-control score-part-01" name="score-4.3-part-1-four" placeholder="+...đ"
                  value=0 maxlength="2">

                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-02" name="score-4.3-part-2-four" placeholder="+...đ"
                  value=0 maxlength="2">

                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-03" name="score-4.3-part-3-four" placeholder="+...đ"
                  value=0 maxlength="2">

                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
            </tr>
            <!-- 4.4 -->
            <tr class="8 0 table-secondary text-primary">
              <td>
                <p>
                  4.4 Tham gia các phong trào ở trường, địa phương có thành tích được biểu dương, khen thưởng (+8đ)
                </p>
              </td>
              <td>
                <input type="number" class="form-control score-part-01" name="score-4.4-part-1-four" placeholder="+...đ"
                  value=0 maxlength="2">

                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-02" name="score-4.4-part-2-four" placeholder="+...đ"
                  value=0 maxlength="2">

                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-03" name="score-4.4-part-3-four" placeholder="+...đ"
                  value=0 maxlength="2">

                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
            </tr>
            <!-- tổng điểm phần 3 -->
            <tr class="25 0 table-secondary text-primary">
              <td>
                <p>
                  Tổng điểm phần 4 (Không được vượt quá 25đ)
                </p>
              </td>
              <td>
                <input type="number" class="form-control score-part-01" name="score-4-sum-part-1-four"
                  placeholder="+...đ" value=0 maxlength="2" readonly>
                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-02" name="score-4-sum-part-2-four"
                  placeholder="+...đ" value=0 maxlength="2" readonly>
                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
              <td>
                <input type="number" class="form-control score-part-03" name="score-4-sum-part-3-four"
                  placeholder="+...đ" value=0 maxlength="2" readonly>
                <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
              </td>
            </tr>









            <div class="part-05-form-score">
              <tr class="table-warning text-muted">
                <th colspan="4">
                  5. Ý thức và kết quả tham gia phụ trách lớp (khung đánh giá không vượt quá 10 điểm) (chỉ được đánh giá
                  1 trong 6 nội dung)
                </th>
              </tr>
              <!-- 5.1 -->
              <tr class="10 0 table-warning text-muted">
                <td>
                  <p>
                    5.1 Hoạt động của Lớp trưởng, Bí thư chi đoàn, BCH đoàn trường, Đội tự quản
                  </p>
                  <ul>
                    <li>
                      Xuất Sắc (+10đ)
                    </li>
                    <li>
                      Tốt (+8đ)
                    </li>
                    <li>
                      Hoàn Thành Nhiệm Vụ (+6đ)
                    </li>
                  </ul>
                </td>
                <td>
                  <input type="number" class="form-control score-part-01" name="score-5.1-part-1-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
                <td>
                  <input type="number" class="form-control score-part-02" name="score-5.1-part-2-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
                <td>
                  <input type="number" class="form-control score-part-03" name="score-5.1-part-3-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
              </tr>
              <!-- 5.2 -->
              <tr class="7 0 table-warning text-muted">
                <td>
                  <p>
                    5.2 Hoạt động của Lớp phó, Thủ Quỹ, BCH chi đoàn, Hội SV
                  </p>
                  <ul>
                    <li>
                      Xuất Sắc (+7đ)
                    </li>
                    <li>
                      Tốt (+6đ)
                    </li>
                    <li>
                      Hoàn Thành Nhiệm Vụ (+5đ)
                    </li>
                  </ul>
                </td>
                <td>
                  <input type="number" class="form-control score-part-01" name="score-5.2-part-1-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
                <td>
                  <input type="number" class="form-control score-part-02" name="score-5.2-part-2-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
                <td>
                  <input type="number" class="form-control score-part-03" name="score-5.2-part-3-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
              </tr>
              <!-- 5.3 -->
              <tr class="6 0 table-warning text-muted">
                <td>
                  <p>
                    5.3 Hoạt động của Tổ trưởng, tổ phó
                  </p>
                  <ul>
                    <li>
                      Xuất Sắc (+6đ)
                    </li>
                    <li>
                      Tốt (+5đ)
                    </li>
                    <li>
                      Hoàn Thành Nhiệm Vụ (+4đ)
                    </li>
                  </ul>
                </td>
                <td>
                  <input type="number" class="form-control score-part-01" name="score-5.3-part-1-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
                <td>
                  <input type="number" class="form-control score-part-02" name="score-5.3-part-2-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
                <td>
                  <input type="number" class="form-control score-part-03" name="score-5.3-part-3-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
              </tr>
              <!-- 5.4 -->
              <tr class="6 0 table-warning text-muted">
                <td>
                  <p>
                    5.4 Sinh viên đạt danh hiệu sinh viên 5 tốt cấp:
                  </p>
                  <ul>
                    <li>
                      Trường (+5đ)
                    </li>
                    <li>
                      Thành Phố (+6đ)
                    </li>
                  </ul>
                </td>
                <td>
                  <input type="number" class="form-control score-part-01" name="score-5.4-part-1-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
                <td>
                  <input type="number" class="form-control score-part-02" name="score-5.4-part-2-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
                <td>
                  <input type="number" class="form-control score-part-03" name="score-5.4-part-3-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
              </tr>
              <!-- 5.5 -->
              <tr class="10 0 table-warning text-muted">
                <td>
                  <p>
                    5.5 Thanh niên tình nguyện +( 4 - 10đ) (Đoàn, Phòng CTCT&QLHSSV đánh giá)
                  </p>
                  <p>
                    Viết số điểm mong muốn được đánh giá (Thành viên trong ban chuyên trách khoa +6đ, Phó ban: 8đ,
                    Trưởng ban: 10đ)
                  </p>
                </td>
                <td>
                  <input type="number" class="form-control score-part-01" name="score-5.5-part-1-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
                <td>
                  <input type="number" class="form-control score-part-02" name="score-5.5-part-2-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
                <td>
                  <input type="number" class="form-control score-part-03" name="score-5.5-part-3-five"
                    placeholder="+...đ" value=0 maxlength="2">

                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại</div>
                </td>
              </tr>
              <!-- tổng điểm phần 5 -->
              <tr class="10 0 table-warning text-muted">
                <td>
                  <p>
                    Điểm của phần 5 (Khung đánh giá không vượt quá 10 điểm, chỉ được đánh giá 1 trong 6 nội dung)
                  </p>
                </td>
                <td>
                  <input type="number" class="form-control score-part-01" name="score-5-sum-part-1-five"
                    placeholder="+...đ" value=0 maxlength="2" readonly>
                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại!!Chỉ Được chọn 1 trong 6 nội
                    dung trên.</div>
                </td>
                <td>
                  <input type="number" class="form-control score-part-02" name="score-5-sum-part-2-five"
                    placeholder="+...đ" value=0 maxlength="2" readonly>
                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại!!Chỉ Được chọn 1 trong 6 nội
                    dung trên.</div>
                </td>
                <td>
                  <input type="number" class="form-control score-part-03" name="score-5-sum-part-3-five"
                    placeholder="+...đ" value=0 maxlength="2" readonly>
                  <div class="invalid-feedback">Số Điểm Không đúng vui lòng kiểm tra lại!!Chỉ Được chọn 1 trong 6 nội
                    dung trên.</div>
                </td>
              </tr>
            </div>
    </tbody>
    <tfoot>
      <tr>
        <td>
          Tổng điểm đánh giá: (1)+(2)+(3)+(4)+(5) ( ≤ 100 điểm)
        </td>
        <td id="sum-part-1" class=" score-part-01">...đ
        </td>

        <td id="sum-part-2" class=" score-part-02">...đ
        </td>
        <td id="sum-part-3" class=" score-part-03">...đ
        </td>
      </tr>
      <tr>
        <td>
          Xếp loại bạn đạt được:
        </td>
        <td id="classification-part-1" class="score-part-01">...</td>
        <td id="classification-part-2" class="score-part-02">...</td>
        <td id="classification-part-3" class="score-part-03">...</td>
      </tr>
      <tr>
        <td colspan="4">
          <div class="p-3 text-white bg-warning">Vui lòng kiểm tra lại kỹ trước khi ấn vào nút lưu lại bảng điểm này.
            Sau khi lưu lại
            bạn sẽ không thể chỉnh sửa được!!!</div>
          <button class=" btn-primary btn text-end" id='btn-save-phieucham' style="width:100%">Save</button>
        </td>
      </tr>
    </tfoot>
  </table>
  <form action="{% url 'add_score' %}" method="POST" id="form_score_submit">
    {% csrf_token %}
    {% if sinhvien or covanhoctap %}
    <input hidden name="data" id="data">
    {% else %}
    <input hidden name="data_sv" id="data_sv">
    <input hidden name="data_cvht" id="data_cvht">
    <input hidden name="data_hddg" id="data_hddg">
    {% endif %}
    {% if Ma_CTPD %}
    <input type="hidden" name="Ma_CTPD" value="{{Ma_CTPD}}">
    {% endif %}
  </form>
</div>


<!-- style  -->
<style>
  .form-table-score input {
    width: 5em;
  }
</style>
<!-- sscript -->
<script>
  $(document).ready(function () {
    var header_phieuchamdiem=document.querySelector('#header-phieuchamdiem');
    var nowday = new Date(Date.now())
    var daystarthk1 = new Date(`${nowday.getFullYear()}-01-01`);
    var dayendhk1 = new Date(`${nowday.getFullYear()}-06-30`);
    if(nowday.getTime()< dayendhk1.getTime()& nowday.getTime()> daystarthk1.getTime()){
      header_phieuchamdiem.innerText=`Phiếu Chấm Điểm Học Kỳ II Năm (${nowday.getFullYear()-1}-${nowday.getFullYear()})`
    }
    else{
      header_phieuchamdiem.innerText = `Phiếu Chấm Điểm Học Kỳ I Năm (${nowday.getFullYear()}-${nowday.getFullYear()+1})`
    }
    console.log(nowday.toLocaleString());
    var btn_save = document.getElementById('btn-save-phieucham')
    {% if sinhvien %}
    calc_scores(1);
    hide_part(3);
    hide_part(2);
    btn_save.addEventListener('click', function () {
      save_data(1)
    })
    {% elif covanhoctap %}
    calc_scores(1);
    calc_scores(2);
    hide_part(3);
    readonly_part(1);
    // calc_scores(3);
    btn_save.addEventListener('click', function () {
      save_data(2)
    })
    {% else %}
    calc_scores(1);
    calc_scores(2);
    calc_scores(3);
    btn_save.addEventListener('click', function () {
      save_data_hddg()
    })
    {% endif %}

    {% if chucnang %}
    arr_diemsv = []
    arr_diemhddg = []
    arr_diemcvht = []

    {% for i in MoTaDiem_SV %}
    arr_diemsv.push("{{i}}")
    {% endfor %}
    truyen_data(1, arr_diemsv)
    {% for i in MoTaDiem_CVHT %}
    arr_diemcvht.push("{{i}}")
    {% endfor %}
    truyen_data(2, arr_diemcvht)
    {% for i in MoTaDiem_HDDG %}
    arr_diemhddg.push("{{i}}")
    {% endfor %}
    truyen_data(3, arr_diemhddg)
    if ("{{chucnang}}" == 'view') {
      readonly_part(1);
      readonly_part(2);
      readonly_part(3);
      if (arr_diemcvht.length == 0) {
        hide_part(2)
      }
      if (arr_diemhddg.length == 0) {
        hide_part(3)
      }

    }
    {% endif %}

  });

  function hide_part(part_number) {
    var part = document.querySelectorAll(`.score-part-0${part_number}`);
    part.forEach((element, index) => {
      // if index=0 then hide element td with name header of table
      if (index == 0) {
        element.classList.add("d-none");
      }
      else if (index >= (part.length - 2)) {
        element.classList.add("d-none");

      }
      // if index>0 then hide element
      else {
        element.parentElement.classList.add("d-none");
      }
    });
  }

  function readonly_part(part_number) {
    var part = document.querySelectorAll(`.score-part-0${part_number}`);
    part.forEach((element, index) => {
      element.setAttribute("readonly", "true");
    });
  }

  function calc_scores(part) {
    var array = document.querySelectorAll(`td .score-part-0${part}`);
    array.forEach((element) => {
      var tach = element.parentElement.parentElement.className.split(" ");
      var max = tach[0];
      var min = tach[1];
      element.addEventListener("change", () => {
        if (element.value != null && element.value.trim().length > 0) {
          if (parseInt(element.value) >= min && parseInt(element.value) <= max) {
            element.classList.remove("is-invalid");
            sum(part);
          } else {
            element.classList.add("is-invalid");
          }
        } else {
          sum(part);
        }
      });
    });
  }

  function sum(part) {
    var array = document.querySelectorAll(`td .score-part-0${part}`);
    var sum1 = 0;
    var sum2 = 0;
    var sum3 = 0;
    var sum4 = 0;
    var sum5 = 0;

    array.forEach((element) => {
      // score - 1.1 - part - 1;
      // score-1-sum-part-1
      var tach = element.name.split("-");
      if (
        tach[4].includes("one") &&
        tach[3].includes(part) &&
        element.value != null
      ) {
        sum1 += Number(element.value);
      } else if (
        tach[4].includes("two") &&
        tach[3].includes(part) &&
        element.value != null
      ) {
        sum2 += Number(element.value);
      } else if (
        tach[4].includes("three") &&
        tach[3].includes(part) &&
        element.value != null
      ) {
        sum3 += Number(element.value);
      } else if (
        tach[4].includes("four") &&
        tach[3].includes(part) &&
        element.value != null
      ) {
        sum4 += Number(element.value);
      } else if (
        tach[4].includes("five") &&
        tach[3].includes(part) &&
        element.value != null
      ) {
        if (sum5 <= 10) {
          sum5 += Number(element.value);
          element.classList.remove("is-invalid");
        } else {
          element.classList.add("is-invalid");
        }
      }
    });

    if (sum1 > 20) {
      sum1 = 20;
    }
    if (sum2 > 25) {
      sum2 = 25;
    }
    if (sum3 > 20) {
      sum3 = 20;
    }
    if (sum4 > 25) {
      sum4 = 25;
    }

    document.getElementsByName(`score-1-sum-part-${part}-one`)[0].value =
      sum1.toString();
    document.getElementsByName(`score-2-sum-part-${part}-two`)[0].value =
      sum2.toString();
    document.getElementsByName(`score-3-sum-part-${part}-three`)[0].value =
      sum3.toString();
    document.getElementsByName(`score-4-sum-part-${part}-four`)[0].value =
      sum4.toString();
    document.getElementsByName(`score-5-sum-part-${part}-five`)[0].value =
      sum5.toString();

    var sum = sum1 + sum2 + sum3 + sum4 + sum5;
    document.querySelector(`#sum-part-${part}`).innerText = sum.toString();
    if (sum >= 90) {
      document.querySelector(`#classification-part-${part}`).innerText =
        "Xuất Sắc";
    } else if (sum >= 80) {
      document.querySelector(`#classification-part-${part}`).innerText = "Tốt";
    } else if (sum >= 65) {
      document.querySelector(`#classification-part-${part}`).innerText = "Khá";
    } else if (sum >= 50) {
      document.querySelector(`#classification-part-${part}`).innerText =
        "Trung Bình";
    } else if (sum >= 35) {
      document.querySelector(`#classification-part-${part}`).innerText = "Yếu";
    } else {
      document.querySelector(`#classification-part-${part}`).innerText = "Kém";
    }
  }

  function save_data(part) {
    var arr = document.querySelectorAll(`td .score-part-0${part}`);
    var check_error = false;
    var arr_name_error = []
    var array_score = [];
    arr.forEach((item) => {
      tach = item.name.split("-");
      if (item.classList.length > 2) {
        check_error = true;
        arr_name_error.push(tach[1])
      }
      else {
        array_score.push(`${tach[1]}:${item.value}`)
      }
    })
    if (check_error == true) {
      var chuoi = ''
      arr_name_error.forEach((i) => {
        chuoi = chuoi + " " + i
      })
      alert(`Kiểm tra lại điểm! Vì có điểm bạn nhập không đúng!!!\nXem lại mục (${chuoi})`)
    }
    else {
      var DiemTong = document.getElementById(`sum-part-${part}`).innerText
      array_score.push(`DiemTong:${DiemTong}`)
      var xeploai = document.getElementById(`classification-part-${part}`).innerText;
      array_score.push(`xeploai:${xeploai}`)
      
      document.getElementById('data').value = JSON.stringify(array_score);
      document.getElementById('alert').classList.remove('d-none')
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera

      window.setTimeout(function () {
        $(".alert").fadeTo(500, 0).slideUp(500, function () {
          document.getElementById('form_score_submit').submit()

          $(this).remove();
        });
      }, 3000);

      // document.getElementById('form_score_submit').submit()

    }
  }

  function save_data_hddg() {
    var arr_1 = document.querySelectorAll(`td .score-part-01`);
    var arr_2 = document.querySelectorAll(`td .score-part-02`);
    var arr_3 = document.querySelectorAll(`td .score-part-03`);

    var check_error = false;
    var arr_name_error = []
    var array_score_1 = [];
    var array_score_2 = [];
    var array_score_3 = [];

    arr_1.forEach((item) => {
      tach = item.name.split("-");
      if (item.classList.length > 2) {
        check_error = true;
        arr_name_error.push(tach[1] + " Sinh viên ")
      }
      else {
        array_score_1.push(`${tach[1]}:${item.value}`)
      }
    })
    arr_2.forEach((item) => {
      tach = item.name.split("-");
      if (item.classList.length > 2) {
        check_error = true;
        arr_name_error.push(tach[1] + " Cố vấn ")
      }
      else {
        array_score_2.push(`${tach[1]}:${item.value}`)
      }
    })
    arr_3.forEach((item) => {
      tach = item.name.split("-");
      if (item.classList.length > 2) {
        check_error = true;
        arr_name_error.push(tach[1] + " Hội đồng ")
      }
      else {
        array_score_3.push(`${tach[1]}:${item.value}`)
      }
    })
    if (check_error == true) {
      var chuoi = ''
      arr_name_error.forEach((i) => {
        chuoi = chuoi + " " + i
      })
      alert(`Kiểm tra lại điểm! Vì có điểm bạn nhập không đúng!!!\nXem lại mục (${chuoi})`)
    }
    else {
      var DiemTong_1 = document.getElementById(`sum-part-1`).innerText
      array_score_1.push(`DiemTong:${DiemTong_1}`)
      var DiemTong_2 = document.getElementById(`sum-part-2`).innerText
      array_score_2.push(`DiemTong:${DiemTong_2}`)
      var DiemTong_3 = document.getElementById(`sum-part-3`).innerText
      array_score_3.push(`DiemTong:${DiemTong_3}`)
      var xeploai_1 = document.getElementById(`classification-part-1`).innerText;
      var xeploai_2 = document.getElementById(`classification-part-2`).innerText;
      var xeploai_3 = document.getElementById(`classification-part-3`).innerText;
      array_score_1.push(`xeploai:${xeploai_1}`)
      array_score_2.push(`xeploai:${xeploai_2}`)
      array_score_3.push(`xeploai:${xeploai_3}`)

   
      document.getElementById('data_sv').value = JSON.stringify(array_score_1);
      document.getElementById('data_cvht').value = JSON.stringify(array_score_2);
      document.getElementById('data_hddg').value = JSON.stringify(array_score_3);
      document.getElementById('alert').classList.remove('d-none')
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera

      window.setTimeout(function () {
        $(".alert").fadeTo(500, 0).slideUp(500, function () {
          document.getElementById('form_score_submit').submit()
     
          $(this).remove();
        });
      }, 3000);

    }
  }

  function truyen_data(part, MoTaDiem) {
    var arr = document.querySelectorAll(`td .score-part-0${part}`);
    arr.forEach((item) => {
      MoTaDiem.forEach((item2) => {
        if (item.name.split('-')[1] == item2.split(":")[0]) {
          item.value = item2.split(":")[1]
        }
      })
    });
    sum(part)
    {% if chucnang %}
    if ("{{chucnang}}" == "view") {
      document.getElementById('btn-save-phieucham').parentElement.parentElement.classList.add('d-none')
    }
    {% endif %}
  }
   function printDiv() {
      var divContents = document.getElementById("example-table").innerHTML;
      var a = window.open('', '', 'height=500, width=500');
      a.document.write('<html>');
      a.document.write('<body >');
      a.document.write(divContents);
      a.document.write('</body></html>');
      a.document.close();
      a.print();
    }
</script>
{% endblock %}